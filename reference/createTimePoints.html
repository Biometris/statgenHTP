<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create an object of class TP — createTimePoints • statgenHTP</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an object of class TP — createTimePoints"><meta name="description" content='Convert a data.frame to an object of class TP (Time Points).
The function converts a data.frame to an object of class TP in the following
steps:
Quality control on the input data. For example, warnings will be given
when more than 50% of observations are missing for a plant.
Rename columns to default column names used by the functions in the
statgenHTP package. For example, the column in the data containing
variety/accession/genotype is renamed to “genotype.” Original column names
are stored as an attribute of the individual data.frames in the TP object.
Convert column types to the default column types. For example, the
column “genotype” is converted to a factor and “rowNum” to a numeric column.
Convert the column containing time into time format. If needed, the
time format can be provided in timeFormat. For example, with a
date/time input of the form “day/month/year hour:minute”, use
"%d/%m/%Y %H:%M". For a full list of abbreviations see the R package
strptime. When the input time is a numeric value, the function will
convert it to time from 01-01-1970.
If addCheck = TRUE, the genotypes listed in
checkGenotypes are reference genotypes (or check). It will add a
column check with a value "noCheck" for the genotypes that are not in
checkGenotypes and the name of the genotypes for the
checkGenotypes. A column genoCheck is also added with the names of
the genotypes that are not in checkGenotypes and NA for the
checkGenotypes. These columns are necessary for fitting models on
data that includes check genotypes, e.g. reference genotypes that are
highly replicated or in case of augmented design.
Split the data into separate data.frames by time point. A TP object is
a list of data.frames where each data.frame contains the data for a single
time point. If there is only one time point the output will be a list with
only one item.
Add a data.frame with columns timeNumber and timePoint as attribute
“timePoints” to the TP object. This data.frame can be used for referencing
time points by a unique number.
Note that plotId needs to be a unique identifier for a plot or a
plant. It cannot occur more than once per time point.'><meta property="og:description" content='Convert a data.frame to an object of class TP (Time Points).
The function converts a data.frame to an object of class TP in the following
steps:
Quality control on the input data. For example, warnings will be given
when more than 50% of observations are missing for a plant.
Rename columns to default column names used by the functions in the
statgenHTP package. For example, the column in the data containing
variety/accession/genotype is renamed to “genotype.” Original column names
are stored as an attribute of the individual data.frames in the TP object.
Convert column types to the default column types. For example, the
column “genotype” is converted to a factor and “rowNum” to a numeric column.
Convert the column containing time into time format. If needed, the
time format can be provided in timeFormat. For example, with a
date/time input of the form “day/month/year hour:minute”, use
"%d/%m/%Y %H:%M". For a full list of abbreviations see the R package
strptime. When the input time is a numeric value, the function will
convert it to time from 01-01-1970.
If addCheck = TRUE, the genotypes listed in
checkGenotypes are reference genotypes (or check). It will add a
column check with a value "noCheck" for the genotypes that are not in
checkGenotypes and the name of the genotypes for the
checkGenotypes. A column genoCheck is also added with the names of
the genotypes that are not in checkGenotypes and NA for the
checkGenotypes. These columns are necessary for fitting models on
data that includes check genotypes, e.g. reference genotypes that are
highly replicated or in case of augmented design.
Split the data into separate data.frames by time point. A TP object is
a list of data.frames where each data.frame contains the data for a single
time point. If there is only one time point the output will be a list with
only one item.
Add a data.frame with columns timeNumber and timePoint as attribute
“timePoints” to the TP object. This data.frame can be used for referencing
time points by a unique number.
Note that plotId needs to be a unique identifier for a plot or a
plant. It cannot occur more than once per time point.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">statgenHTP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fa-newspaper-o"></span> news</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-seedling"></span> other packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-other-packages"><li><a class="external-link dropdown-item" href="https://biometris.github.io/statgenSTA">statgenSTA</a></li>
    <li><a class="external-link dropdown-item" href="https://biometris.github.io/statgenGxE">statgenGxE</a></li>
    <li><a class="external-link dropdown-item" href="https://biometris.github.io/statgenGWAS">statgenGWAS</a></li>
    <li><a class="external-link dropdown-item" href="https://biometris.github.io/statgenQTLxT">statgenQTLxT</a></li>
    <li><a class="external-link dropdown-item" href="https://biometris.github.io/statgenIBD">statgenIBD</a></li>
    <li><a class="external-link dropdown-item" href="https://biometris.github.io/statgenMPP">statgenMPP</a></li>
    <li><a class="external-link dropdown-item" href="https://biometris.github.io/LMMsolver">LMMsolver</a></li>
  </ul></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Biometris/statgenHTP"><span class="fa fa-github fa-lg fab"></span> github</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create an object of class TP</h1>
      <small class="dont-index">Source: <a href="https://github.com/Biometris/statgenHTP/blob/main/R/createTimePoints.R" class="external-link"><code>R/createTimePoints.R</code></a></small>
      <div class="d-none name"><code>createTimePoints.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convert a data.frame to an object of class TP (Time Points).
The function converts a data.frame to an object of class TP in the following
steps:</p><ul><li><p>Quality control on the input data. For example, warnings will be given
when more than 50% of observations are missing for a plant.</p></li>
<li><p>Rename columns to default column names used by the functions in the
statgenHTP package. For example, the column in the data containing
variety/accession/genotype is renamed to “genotype.” Original column names
are stored as an attribute of the individual data.frames in the TP object.</p></li>
<li><p>Convert column types to the default column types. For example, the
column “genotype” is converted to a factor and “rowNum” to a numeric column.</p></li>
<li><p>Convert the column containing time into time format. If needed, the
time format can be provided in <code>timeFormat</code>. For example, with a
date/time input of the form “day/month/year hour:minute”, use
"%d/%m/%Y %H:%M". For a full list of abbreviations see the R package
strptime. When the input time is a numeric value, the function will
convert it to time from 01-01-1970.</p></li>
<li><p>If <code>addCheck = TRUE</code>, the genotypes listed in
<code>checkGenotypes</code> are reference genotypes (or check). It will add a
column check with a value "noCheck" for the genotypes that are not in
<code>checkGenotypes</code> and the name of the genotypes for the
<code>checkGenotypes</code>. A column genoCheck is also added with the names of
the genotypes that are not in <code>checkGenotypes</code> and <code>NA</code> for the
<code>checkGenotypes</code>. These columns are necessary for fitting models on
data that includes check genotypes, e.g. reference genotypes that are
highly replicated or in case of augmented design.</p></li>
<li><p>Split the data into separate data.frames by time point. A TP object is
a list of data.frames where each data.frame contains the data for a single
time point. If there is only one time point the output will be a list with
only one item.</p></li>
<li><p>Add a data.frame with columns timeNumber and timePoint as attribute
“timePoints” to the TP object. This data.frame can be used for referencing
time points by a unique number.</p></li>
</ul><p>Note that <code>plotId</code> needs to be a unique identifier for a plot or a
plant. It cannot occur more than once per time point.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">createTimePoints</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">experimentName</span>,</span>
<span>  <span class="va">genotype</span>,</span>
<span>  <span class="va">timePoint</span>,</span>
<span>  timeFormat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">plotId</span>,</span>
<span>  repId <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rowNum <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  colNum <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  addCheck <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  checkGenotypes <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dat">dat<a class="anchor" aria-label="anchor" href="#arg-dat"></a></dt>
<dd><p>A data.frame.</p></dd>


<dt id="arg-experimentname">experimentName<a class="anchor" aria-label="anchor" href="#arg-experimentname"></a></dt>
<dd><p>A character string, the name of the experiment. Stored
with the data and used in default plot titles.</p></dd>


<dt id="arg-genotype">genotype<a class="anchor" aria-label="anchor" href="#arg-genotype"></a></dt>
<dd><p>A character string indicating the column in dat containing
the genotypes.</p></dd>


<dt id="arg-timepoint">timePoint<a class="anchor" aria-label="anchor" href="#arg-timepoint"></a></dt>
<dd><p>A character string indicating the column in dat containing
the time points.</p></dd>


<dt id="arg-timeformat">timeFormat<a class="anchor" aria-label="anchor" href="#arg-timeformat"></a></dt>
<dd><p>A character string indicating the input format of the time
points. E.g. for a date/time input of the form day/month/year hour:minute,
use "%d/%m/%Y %H:%M". For a full list of abbreviations see
<code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">strptime</a></code>. If <code>NULL</code>, a best guess is done based on
the input.</p></dd>


<dt id="arg-plotid">plotId<a class="anchor" aria-label="anchor" href="#arg-plotid"></a></dt>
<dd><p>A character string indicating the column in dat containing
the plotId. This has to be a unique identifier per plot/plant per time point.</p></dd>


<dt id="arg-repid">repId<a class="anchor" aria-label="anchor" href="#arg-repid"></a></dt>
<dd><p>A character string indicating the column in dat containing
the replicates.</p></dd>


<dt id="arg-rownum">rowNum<a class="anchor" aria-label="anchor" href="#arg-rownum"></a></dt>
<dd><p>A character string indicating the column in dat containing
the row number of the plot.</p></dd>


<dt id="arg-colnum">colNum<a class="anchor" aria-label="anchor" href="#arg-colnum"></a></dt>
<dd><p>A character string indicating the column in dat containing
the column number of the plot.</p></dd>


<dt id="arg-addcheck">addCheck<a class="anchor" aria-label="anchor" href="#arg-addcheck"></a></dt>
<dd><p>Should a column check be added to the output? If <code>TRUE</code>,
checkGenotypes cannot be <code>NULL</code>.</p></dd>


<dt id="arg-checkgenotypes">checkGenotypes<a class="anchor" aria-label="anchor" href="#arg-checkgenotypes"></a></dt>
<dd><p>A character vector containing the genotypes used as
checks in the experiment.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>TP</code>. A list with, per time point in the
input, a data.frame containing the data for that time point. A data.frame
with columns timeNumber and timePoint is added as attribute timePoints to
the data. This data.frame can be used for referencing timePoints by their
number.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other functions for data preparation:
<code><a href="as.data.frame.TP.html">as.data.frame.TP</a>()</code>,
<code><a href="getTimePoints.html">getTimePoints</a>()</code>,
<code><a href="plot.TP.html">plot.TP</a>()</code>,
<code><a href="removeTimePoints.html">removeTimePoints</a>()</code>,
<code><a href="summary.TP.html">summary.TP</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Create a TP object containing the data from the Phenovator.</span></span></span>
<span class="r-in"><span><span class="va">phenoTP</span> <span class="op">&lt;-</span> <span class="fu">createTimePoints</span><span class="op">(</span>dat <span class="op">=</span> <span class="va">PhenovatorDat1</span>,</span></span>
<span class="r-in"><span>                            experimentName <span class="op">=</span> <span class="st">"Phenovator"</span>,</span></span>
<span class="r-in"><span>                            genotype <span class="op">=</span> <span class="st">"Genotype"</span>,</span></span>
<span class="r-in"><span>                            timePoint <span class="op">=</span> <span class="st">"timepoints"</span>,</span></span>
<span class="r-in"><span>                            repId <span class="op">=</span> <span class="st">"Replicate"</span>,</span></span>
<span class="r-in"><span>                            plotId <span class="op">=</span> <span class="st">"pos"</span>,</span></span>
<span class="r-in"><span>                            rowNum <span class="op">=</span> <span class="st">"y"</span>, colNum <span class="op">=</span> <span class="st">"x"</span>,</span></span>
<span class="r-in"><span>                            addCheck <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                            checkGenotypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"check1"</span>, <span class="st">"check2"</span>,</span></span>
<span class="r-in"><span>                                               <span class="st">"check3"</span>,<span class="st">"check4"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The following plotIds have observations for less than 50% of the time points:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> c24r41, c7r18, c7r49</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">phenoTP</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> phenoTP contains data for experiment Phenovator.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> It contains 73 time points.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> First time point: 2018-05-31 16:37:00 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Last time point: 2018-06-18 16:37:00 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following genotypes are defined as check genotypes: check1, check2, check3, check4.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Emilie J Millet, Maria Xose Rodriguez Alvarez, Diana Marcela Perez Valencia, Isabelle Sanchez, Nadine Hilgert, Bart-Jan van Rossum, Fred van Eeuwijk, Martin Boer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

